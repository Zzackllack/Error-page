---
import MainLayout from '../layouts/MainLayout.astro';
import AnimatedBackground from '../components/AnimatedBackground';
import GlassCard from '../components/GlassCard';
import AnimatedButton from '../components/AnimatedButton';
import QuestionCard from '../components/QuestionCard';
import ScrollPrompt from '../components/ScrollPrompt';
---

<MainLayout title="Error Page Guide | Zacklack">
  <div class="relative min-h-screen flex flex-col items-center justify-center overflow-hidden">
    <!-- Animated Background -->
    <AnimatedBackground client:load />
    
    <!-- Hero Section -->
    <section class="min-h-screen w-full flex flex-col items-center justify-center p-4 relative">
      <!-- Content -->
      <div class="relative z-10 w-full max-w-4xl mx-auto flex flex-col items-center">
        <!-- Logo -->
        <a href="https://zacklack.de" class="mb-8 transition-transform hover:scale-110 relative">
          <img 
            src='/src/assets/Designer.svg' 
            class="h-20 md:h-24 rounded-full animate-glow" 
            alt="Zacklack logo" 
          />
        </a>
        
        <!-- Main Card -->
        <GlassCard className="p-8 md:p-12 w-full max-w-xl mb-8" client:load>
          <div class="text-center">
            <h1 class="text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-error-light to-error-accent mb-6">
              Are you lost?
            </h1>
            <p class="text-gray-200 text-lg mb-8">
              If you've landed here, something might have gone wrong. Let's figure out what happened and help you get back on track.
            </p>
            
            <AnimatedButton href="#questions" client:load>
              Find Solutions
            </AnimatedButton>
          </div>
        </GlassCard>
        
        <!-- Scroll Down Indicator -->
        <ScrollPrompt client:load />
      </div>
    </section>
    
    <!-- Questions Section -->
    <section id="questions" class="min-h-screen py-20 w-full bg-gradient-to-b from-error-dark/80 to-gray-950/80 backdrop-blur-sm">
      <div class="container mx-auto max-w-4xl px-4">
        <h2 class="text-3xl font-bold text-white mb-2 text-center">What went wrong?</h2>
        <p class="text-gray-300 mb-12 text-center">Click on the issue that best describes your situation</p>
        
        <div class="space-y-4">
          <QuestionCard 
            question="I can't find the page I'm looking for" 
            answer="The page you're trying to access may not exist or has been moved."
            href="/404" 
            errorCode={404}
            delay={0.1}
            client:load
          />
          
          <QuestionCard 
            question="The service is temporarily unavailable" 
            answer="Our systems might be down for maintenance or experiencing high traffic."
            href="/503" 
            errorCode={503}
            delay={0.2}
            client:load
          />
          
          <QuestionCard 
            question="I don't have permission to access this resource" 
            answer="You might not have the necessary permissions to view this content."
            href="/error?statusCode=403" 
            errorCode={403}
            delay={0.3}
            client:load
          />
          
          <QuestionCard 
            question="I need to log in to access this content" 
            answer="Authentication is required to view the requested resource."
            href="/error?statusCode=401" 
            errorCode={401}
            delay={0.4}
            client:load
          />
          
          <QuestionCard 
            question="Something went wrong on the server" 
            answer="There's a technical issue on our end that we're working to fix."
            href="/error?statusCode=500" 
            errorCode={500}
            delay={0.5}
            client:load
          />
          
          <QuestionCard 
            question="The connection to the server failed" 
            answer="There might be an issue with the network or server communication."
            href="/error?statusCode=502" 
            errorCode={502}
            delay={0.6}
            client:load
          />
        </div>
        
        <div class="mt-12 text-center">
          <GlassCard className="p-6 inline-block" delay={0.7} client:load>
            <h3 class="text-xl font-medium text-white mb-2">Still Need Help?</h3>
            <p class="text-gray-300 mb-4">Contact our support team for assistance</p>
            <AnimatedButton href="https://zacklack.de/support" client:load variant="outline">
              Get Support
            </AnimatedButton>
          </GlassCard>
        </div>
      </div>
    </section>
    
    <!-- Footer -->
    <footer class="w-full py-6 bg-gray-950/80 backdrop-blur-sm">
      <p class="text-gray-400 text-center text-sm">
        &copy; {new Date().getFullYear()} Zacklack Â· All rights reserved
      </p>
    </footer>
  </div>
</MainLayout>

<script>
  // Smooth scroll for anchor links
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      
      const target = document.querySelector(this.getAttribute('href') as string);
      if (target) {
        window.scrollTo({
          top: target.getBoundingClientRect().top + window.pageYOffset,
          behavior: 'smooth'
        });
      }
    });
  });
</script>

<style>
  html {
    scroll-behavior: smooth;
  }
</style>